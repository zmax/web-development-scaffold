# Axiom

é€™æ˜¯ä¸€å€‹åç‚º **Axiom** çš„å°ˆæ¡ˆéª¨æ¶ï¼ŒåŸºæ–¼ **pnpm workspace** çš„ **Monorepo** æ¶æ§‹ã€‚å®ƒæ—¨åœ¨æä¾›ä¸€å¥—ä¸è­‰è‡ªæ˜çš„é–‹ç™¼å…¬ç†èˆ‡æœ€ä½³å¯¦è¸ï¼Œç”¨æ–¼å¿«é€Ÿå•Ÿå‹•ç¾ä»£åŒ–ã€å¯æ“´å±•çš„ç¶²é æ‡‰ç”¨ç¨‹å¼ã€‚å®ƒæ•´åˆäº†ç¨ç«‹çš„å‰ç«¯æ‡‰ç”¨ã€å¾Œç«¯ APIã€å¯å…±äº«çš„ UI å…ƒä»¶ã€å·¥å…·å‡½å¼åº«å’Œå‹åˆ¥å®šç¾©ã€‚

## âœ¨ æ ¸å¿ƒç›®æ¨™

- **ç¨‹å¼ç¢¼å…±äº«èˆ‡é‡ç”¨**ï¼šé€é `packages` ç›®éŒ„ï¼Œåœ¨ä¸åŒæ‡‰ç”¨ä¹‹é–“å…±äº« UI å…ƒä»¶ã€å·¥å…·å‡½å¼å’Œå‹åˆ¥å®šç¾©ã€‚
- **é–‹ç™¼æ•ˆç‡**ï¼šåˆ©ç”¨ Vite æä¾›å¿«é€Ÿçš„é–‹ç™¼ä¼ºæœå™¨å’Œå»ºæ§‹æµç¨‹ã€‚
- **ç¨‹å¼ç¢¼å“è³ª**ï¼šæ•´åˆ ESLint, Prettier, TypeScript å’Œè‡ªå‹•åŒ–çš„ Git é‰¤å­ï¼Œç¢ºä¿ç¨‹å¼ç¢¼é¢¨æ ¼ä¸€è‡´ä¸”å‹åˆ¥å®‰å…¨ã€‚
- **çµæ§‹åŒ–èˆ‡å¯ç¶­è­·æ€§**ï¼šæ¸…æ™°çš„ç›®éŒ„çµæ§‹å’Œæ¨¡çµ„åŒ–è¨­è¨ˆï¼Œä¾¿æ–¼åœ˜éšŠå”ä½œå’Œé•·æœŸç¶­è­·ã€‚

## ğŸ› ï¸ æŠ€è¡“æ£§

| åˆ†é¡            | æŠ€è¡“                                  | ç”¨é€”                                                     |
| :-------------- | :------------------------------------ | :------------------------------------------------------- |
| **ä¸»è¦æ¡†æ¶**    | React 18                              | å»ºç«‹ä½¿ï¿½ï¿½ï¿½è€…ä»‹é¢çš„æ ¸å¿ƒå‡½å¼åº«ã€‚                            |
| **å»ºæ§‹å·¥å…·**    | Vite                                  | æä¾›æ¥µé€Ÿçš„é–‹ç™¼ä¼ºæœå™¨å’Œå„ªåŒ–çš„ç”Ÿç”¢ç’°å¢ƒå»ºæ§‹ã€‚               |
| **èªè¨€**        | TypeScript                            | ç‚ºå°ˆæ¡ˆæä¾›éœæ…‹å‹åˆ¥æª¢æŸ¥ï¼Œæå‡ç¨‹å¼ç¢¼å¥å£¯æ€§ã€‚               |
| **æ¨£å¼**        | Tailwind CSS                          | ä¸€å€‹ Utility-First çš„ CSS æ¡†æ¶ï¼Œç”¨æ–¼å¿«é€Ÿè¨­è¨ˆ UIã€‚        |
| **å¥—ä»¶ç®¡ç†**    | pnpm                                  | é«˜æ•ˆèƒ½çš„å¥—ä»¶ç®¡ç†å™¨ï¼Œä¸¦é€é workspace åŠŸèƒ½æ”¯æ´ Monorepoã€‚ |
| **æ¸¬è©¦**        | Vitest, React Testing Library         | ç”¨æ–¼å–®å…ƒæ¸¬è©¦å’Œå…ƒä»¶æ¸¬è©¦ï¼Œç¢ºä¿ç¨‹å¼ç¢¼å“è³ªã€‚                 |
| **ç¨‹å¼ç¢¼è¦ç¯„**  | ESLint, Prettier                      | å¼·åˆ¶ç¨‹å¼ç¢¼é¢¨æ ¼å’Œèªæ³•è¦ç¯„ã€‚                               |
| **Commit è¦ç¯„** | Commitlint, cz-conventional-changelog | ç¢ºä¿ Git æäº¤è¨Šæ¯çš„ä¸€è‡´æ€§å’Œå¯è®€æ€§ã€‚                      |
| **Git é‰¤å­**    | Husky                                 | åœ¨ Git äº‹ä»¶ï¼ˆå¦‚ commit, pushï¼‰è§¸ç™¼æ™‚è‡ªå‹•åŸ·è¡Œè…³æœ¬ã€‚       |

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
.
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ api/             # å¾Œç«¯ API æ‡‰ç”¨ç¨‹å¼ (Node.js)
â”‚   â””â”€â”€ web/             # å‰ç«¯ç¶²é æ‡‰ç”¨ç¨‹å¼ (React)
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ types/           # å…±äº«çš„ TypeScript å‹åˆ¥å®šç¾©
â”‚   â”œâ”€â”€ ui/              # å¯é‡ç”¨çš„ UI å…ƒä»¶
â”‚   â””â”€â”€ utils/           # é€šç”¨å·¥å…·å‡½å¼
â”œâ”€â”€ .husky/              # Git é‰¤å­è¨­å®š
â”œâ”€â”€ scripts/             # è‡ªå‹•åŒ–è…³æœ¬
â”œâ”€â”€ .commitlintrc.js     # Commitlint è¨­å®š
â”œâ”€â”€ eslint.config.js     # ESLint è¨­å®š
â”œâ”€â”€ prettier.config.js   # Prettier è¨­å®š
â”œâ”€â”€ tailwind.config.js   # æ ¹ Tailwind CSS è¨­å®š
â””â”€â”€ tsconfig.json        # æ ¹ TypeScript è¨­å®š
```

## ğŸ—ï¸ æ¶æ§‹èˆ‡ä¾è³´é—œä¿‚

æœ¬å°ˆæ¡ˆæ¡ç”¨ Monorepo æ¶æ§‹ï¼Œå°‡å‰å¾Œç«¯æ‡‰ç”¨ç¨‹å¼ (`apps`) å’Œå…±äº«ç¨‹å¼ç¢¼ (`packages`) æ•´åˆåœ¨åŒä¸€å€‹å„²å­˜åº«ä¸­ã€‚

### ä¾è³´é—œä¿‚åœ–

```mermaid
graph TD
    subgraph legend [åœ–ä¾‹]
        direction LR
        app((æ‡‰ç”¨ç¨‹å¼))
        pkg([å…±äº«å¥—ä»¶])
    end

    subgraph Applications
        direction LR
        A1("apps/web"):::app
        A2("apps/api"):::app
    end

    subgraph Packages
        direction LR
        P1("@axiom/ui"):::pkg
        P2("@axiom/utils"):::pkg
        P3("@axiom/types"):::pkg
    end

    A1 -- "ä¾è³´" --> P1
    A1 -- "ä¾è³´" --> P2
    A1 -- "ä¾è³´" --> P3

    A2 -- "ä¾è³´" --> P3

    P1 -- "ä¾è³´" --> P2
    P1 -- "ä¾è³´" --> P3

    classDef app fill:#B4E4D8,stroke:#333,stroke-width:2px;
    classDef pkg fill:#F5D4A7,stroke:#333,stroke-width:2px;
```

- **`apps/web`**: å‰ç«¯æ‡‰ç”¨ï¼Œä¾è³´ `ui`ï¼ˆå…ƒä»¶ï¼‰ã€`utils`ï¼ˆå·¥å…·ï¼‰å’Œ `types`ï¼ˆå‹åˆ¥ï¼‰ã€‚
- **`apps/api`**: å¾Œç«¯ APIï¼Œä¾è³´ `types`ï¼ˆå‹åˆ¥ï¼‰ä»¥ç¢ºä¿èˆ‡å‰ç«¯çš„è³‡æ–™çµæ§‹ä¸€è‡´ã€‚
- **`packages/ui`**: å…±äº«å…ƒä»¶åº«ï¼Œä¾è³´ `utils` å’Œ `types`ã€‚
- **`packages/utils`** å’Œ **`packages/types`**: åŸºç¤å¥—ä»¶ï¼Œç„¡å…§éƒ¨ä¾è³´ã€‚

## ğŸš€ é–‹å§‹ä½¿ç”¨

### å…ˆæ±ºæ¢ä»¶

- [Node.js](https://nodejs.org/) (å»ºè­° LTS ç‰ˆæœ¬)
- [pnpm](https://pnpm.io/installation)

### å®‰è£

1.  **è¤‡è£½å„²å­˜åº«ï¼š**

    ```bash
    git clone <your-repository-url>
    cd axiom
    ```

2.  **å®‰è£ä¾è³´é …ï¼š**
    ```bash
    pnpm install
    ```

### é–‹ç™¼

åŒæ™‚å•Ÿå‹•å‰ç«¯å’Œå¾Œç«¯é–‹ç™¼ä¼ºæœå™¨ï¼š

```bash
pnpm dev
```

- å‰ç«¯ (`web`) å°‡é‹è¡Œåœ¨ `http://localhost:5173`ã€‚
- å¾Œç«¯ (`api`) å°‡é‹è¡Œåœ¨ `http://localhost:3000`ã€‚

## ğŸ“œ å¯ç”¨è…³æœ¬

| æŒ‡ä»¤              | æè¿°                                   |
| :---------------- | :------------------------------------- |
| `pnpm dev`        | åŒæ™‚å•Ÿå‹•æ‰€æœ‰ `apps` çš„é–‹ç™¼ä¼ºæœå™¨ã€‚     |
| `pnpm build`      | å»ºæ§‹æ‰€æœ‰å¥—ä»¶å’Œæ‡‰ç”¨ç¨‹å¼ä»¥ä¾›ç”Ÿç”¢ã€‚       |
| `pnpm test`       | åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦ã€‚                         |
| `pnpm test:watch` | ä»¥ç›£è½æ¨¡å¼åŸ·è¡Œæ¸¬è©¦ã€‚                   |
| `pnpm lint`       | æª¢æŸ¥æ•´å€‹å°ˆæ¡ˆçš„ç¨‹å¼ç¢¼é¢¨æ ¼ã€‚             |
| `pnpm format`     | è‡ªå‹•æ ¼å¼åŒ–æ‰€æœ‰æª”æ¡ˆã€‚                   |
| `pnpm type-check` | åŸ·è¡Œ TypeScript çš„å‹åˆ¥æª¢æŸ¥ã€‚           |
| `pnpm clean`      | æ¸…ç†æ‰€æœ‰ `dist` ç›®éŒ„ã€‚                 |
| `pnpm commit`     | ä½¿ç”¨ Commitizen å¼•å°å¼åœ°ç”¢ç”Ÿæäº¤è¨Šæ¯ã€‚ |

## ğŸ¤ è²¢ç»

æ­¡è¿æ‰€æœ‰è²¢ç»ï¼è«‹åœ¨ç™¼é€ Pull Request å‰ç¢ºä¿æ‚¨çš„ç¨‹å¼ï¿½ï¿½ï¿½é€šéæ‰€æœ‰å“è³ªæª¢æŸ¥ã€‚

æœ¬å°ˆæ¡ˆåš´æ ¼éµå®ˆ [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) è¦ç¯„ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ `pnpm commit` ä¾†ç¢ºä¿æ‚¨çš„æäº¤è¨Šæ¯ç¬¦åˆæ ¼å¼ã€‚

## ğŸ”® å¾ŒçºŒç™¼å±•å»ºè­°

- **å…ƒä»¶åº«æ–‡ä»¶**: ç‚º `packages/ui` å¢åŠ  Storybook æˆ–é¡ä¼¼å·¥å…·ï¼Œä»¥å»ºç«‹å…ƒä»¶æ–‡ä»¶å’Œäº’å‹•å¼å±•ç¤ºã€‚
- **ç‹€æ…‹ç®¡ç†**: æ ¹æ“šæ‡‰ç”¨è¤‡é›œåº¦ï¼Œè€ƒæ…®å¼•å…¥ Zustand, Redux Toolkit æˆ–å…¶ä»–ç‹€æ…‹ç®¡ç†æ–¹æ¡ˆã€‚
- **CI/CD**: å»ºç«‹è‡ªå‹•åŒ–çš„æŒçºŒæ•´åˆèˆ‡éƒ¨ç½²æµç¨‹ (ä¾‹å¦‚ä½¿ç”¨ GitHub Actions)ï¼Œåœ¨ç¨‹å¼ç¢¼æ¨é€åˆ°ä¸»åˆ†æ”¯æ™‚è‡ªå‹•åŸ·è¡Œæ¸¬è©¦ã€å»ºæ§‹å’Œéƒ¨ç½²ã€‚
